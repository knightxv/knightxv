(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{427:function(s,t,n){"use strict";n.r(t);var a=n(4),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"ngnix-目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ngnix-目录结构"}},[s._v("#")]),s._v(" Ngnix 目录结构")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tree /usr/local/nginx")]),s._v("\n    /usr/local/nginx\n    ├── client_body_temp\n    ├── conf                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx所有配置文件的目录")]),s._v("\n    │   ├── fastcgi.conf                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fastcgi相关参数的配置文件")]),s._v("\n    │   ├── fastcgi.conf.default         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fastcgi.conf的原始备份文件")]),s._v("\n    │   ├── fastcgi_params               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fastcgi的参数文件")]),s._v("\n    │   ├── fastcgi_params.default   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fastcgi的参数文件的备份文件")]),s._v("\n    │   ├── koi-utf\n    │   ├── koi-win\n    │   ├── mime.types                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 媒体类型")]),s._v("\n    │   ├── mime.types.default\n    │   ├── nginx.conf                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx主配置文件")]),s._v("\n    │   ├── nginx.conf.default\n    │   ├── scgi_params                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# scgi相关参数文件")]),s._v("\n    │   ├── scgi_params.default\n    │   ├── uwsgi_params                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uwsgi相关参数文件")]),s._v("\n    │   ├── uwsgi_params.default\n    │   └── win-utf\n    ├── fastcgi_temp                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fastcgi临时数据目录")]),s._v("\n    ├── html                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx默认站点目录")]),s._v("\n    │   ├── 50x.html             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 错误页面优雅替代显示文件，例如当出现502错误时会调用此页面")]),s._v("\n    │   └── index.html                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认的首页文件")]),s._v("\n    ├── logs                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx日志目录")]),s._v("\n    │   ├── access.log                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访问日志文件")]),s._v("\n    │   ├── error.log                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 错误日志文件")]),s._v("\n    │   └── nginx.pid                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pid文件，Nginx进程启动后，会把所有进程的ID号写到此文件")]),s._v("\n    ├── proxy_temp                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时目录")]),s._v("\n    ├── sbin                             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx命令目录")]),s._v("\n    │   └── nginx                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx的启动命令")]),s._v("\n    ├── scgi_temp                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时目录")]),s._v("\n    └── uwsgi_temp                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时目录")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("h2",{attrs:{id:"nginx-conf-说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-conf-说明"}},[s._v("#")]),s._v(" nginx.conf 说明")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("worker_processes  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# worker进程的数量")]),s._v("\nevents "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 事件区块开始")]),s._v("\n    worker_connections  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每个worker进程支持的最大连接数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                                                 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 事件区块结束")]),s._v("\nhttp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTP区块开始")]),s._v("\n    include       mime.types"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nginx支持的媒体类型库文件")]),s._v("\n    default_type  application/octet-stream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认的媒体类型")]),s._v("\n    sendfile        on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启高效传输模式")]),s._v("\n    keepalive_timeout  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接超时")]),s._v("\n    server "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个Server区块开始，表示一个独立的虚拟主机站点")]),s._v("\n        listen       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提供服务的端口，默认80")]),s._v("\n        server_name  localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提供服务的域名主机名")]),s._v("\n        location / "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个location区块开始")]),s._v("\n            root   html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 站点的根目录，相当于Nginx的安装目录")]),s._v("\n            index  index.html index.htm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认的首页文件，多个用空格分开")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("                                         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个location区块结果")]),s._v("\n        error_page   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500502503504")]),s._v("  /50x.html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 出现对应的http状态码时，使用50x.html回应客户")]),s._v("\n        location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /50x.html "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# location区块开始，访问50x.html")]),s._v("\n            root   html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定对应的站点目录为html")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h2",{attrs:{id:"location-初识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#location-初识"}},[s._v("#")]),s._v(" location 初识")]),s._v(" "),t("p",[s._v("location 的作用就是根据用户的请求的 URI 来进行执行不同的服务，会根据用户请求的网站 URL 进行匹配，进行处理各种业务。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("匹配符")]),s._v(" "),t("th",[s._v("匹配规则")]),s._v(" "),t("th",[s._v("优先级")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("=")]),s._v(" "),t("td",[s._v("精确匹配")]),s._v(" "),t("td",[s._v("1")])]),s._v(" "),t("tr",[t("td",[s._v("^~")]),s._v(" "),t("td",[s._v("以某个字符串开头")]),s._v(" "),t("td",[s._v("2")])]),s._v(" "),t("tr",[t("td",[s._v("~")]),s._v(" "),t("td",[s._v("区分大小写的正则匹配")]),s._v(" "),t("td",[s._v("3")])]),s._v(" "),t("tr",[t("td",[s._v("~*")]),s._v(" "),t("td",[s._v("不区分大小写的正则匹配")]),s._v(" "),t("td",[s._v("4")])]),s._v(" "),t("tr",[t("td",[s._v("!~")]),s._v(" "),t("td",[s._v("区分大小写不匹配的正则")]),s._v(" "),t("td",[s._v("5")])]),s._v(" "),t("tr",[t("td",[s._v("!~*")]),s._v(" "),t("td",[s._v("不区分大小写不匹配的正则")]),s._v(" "),t("td",[s._v("6")])]),s._v(" "),t("tr",[t("td",[s._v("/")]),s._v(" "),t("td",[s._v("通用匹配，任何请求都会匹配到")]),s._v(" "),t("td",[s._v("7")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);