---
title: VIM编辑器
date: 2023-01-18 21:54:25
permalink: /pages/ae19fa/
categories:
  - 云原生
  - Linux
tags:
  - 
author: 
  name: knightxv
  link: https://github.com/knightxv
---
##  二、VI/VIM 编辑器

##  1、是什么

VI 是 Unix 操作系统和类 Unix 操作系统中最通用的文本编辑器。

VIM 编辑器是从 VI 发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜 色辨别语法的正确性，方便程序设计。VIM 与 VI 编辑器完全兼容。

##  2、测试数据准备

拷贝\*\*/etc/profile\*\* 数据到\*\*/root\*\* 目录下

```sh
cp /etc/profile /root
cd /root/
```

1  
2

##  3、一般模式

以 vi 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可 以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档 案内容， 也可以使用『复制、粘贴』来处理你的文件数据。

| 语法          | 功能描述                                                                                        |
| ------------- | ----------------------------------------------------------------------------------------------- |
| yy            | 复制光标当前一行                                                                                |
| 数字+yy       | 复制多行                                                                                        |
| y 数字 y      | 复制一段(从第几行到第几行)                                                                      |
| p             | 箭头移动到目的行粘贴                                                                            |
| u             | 撤销上一步                                                                                      |
| dd            | 删除光标当前行                                                                                  |
| d 数字 d      | 删除光标(含)后多少行                                                                            |
| x             | 剪切一个字母，相当于 del                                                                        |
| X             | 剪切一个字母，相当于 Backspace                                                                  |
| yw            | 复制一个词                                                                                      |
| dw            | 删除一个词                                                                                      |
| e , b         | 单词末尾 e 往前跳 b                                                                             |
| shift+6(^)    | 移动到行头                                                                                      |
| shift+4 ($)   | 移动到行尾                                                                                      |
| y 加上尖号(^) | 复制到开头                                                                                      |
| y 加$         | 复制到结尾                                                                                      |
| 1+shift+g     | 移动到页头，数字                                                                                |
| shift+g       | 移动到页尾                                                                                      |
| 数字+shift+g  | 移动到目标行                                                                                    |
| r             | 单个字符替换                                                                                    |
| R             | R 会一直取代光标所在的文字，直到按下 ESC 为止                                                   |
| G             | 到达文件最末行                                                                                  |
| 数字 + G      | 跳转到指定行                                                                                    |
| gg            | 到达文件首行                                                                                    |
| 到达指定行    | 到达指定行 一：显示行号 :set nu , 二：输入 20 这个数 , 三: 输入 shift+g;(将光标移动到 第 20 行) |

![img](https://www.runoob.com/wp-content/uploads/2015/10/classic1.gif)

##  4、编辑模式

\*\*在一般模式中可以进行删除、复制、粘贴等的动作，但是却无法编辑文件内容的!\*\*要等到你按下『i, I, o, O, a, A』等任何一个字母之后才会进入编辑模式。

注意了!通常在 Linux 中，按下这些按键时，在画面的左下方会出现『INSERT 或 REPLACE』的字样，此时才可以进行编辑。而如果要回到一般模式时， 则必须要按下『Esc』这个按键即可退出编辑模式。

###  1、进入编辑模式

| 按键 | 功能               |
| ---- | ------------------ |
| i    | 当前光标前         |
| a    | 当前光标后         |
| o    | 当前光标行的下一行 |
| I    | 光标所在行最前     |
| A    | 光标所在行最后     |
| O    | 当前光标行的上一行 |

###  2、退出编辑模式

按『Esc』键 退出编辑模式，之后所在的模式为一般模式。

###  3、指令模式

在一般模式当中，输入『 : / ?』3 个中的任何一个按钮，就可以将光标移动到最底下那 一行。

在这个模式当中， 可以提供你『搜寻资料』的动作，而读取、存盘、大量取代字符、 离开 vi 、显示行号等动作是在此模式中达成的!

####  1、基本语法

| 命令          | 功能                             |
| ------------- | -------------------------------- |
| :w            | 保存                             |
| :q            | 退出                             |
| :!            | 强制执行                         |
| /要查找的词   | n 查找下一个，N 往上查找         |
| :noh          | 取消高亮显示                     |
| :set nu       | 显示行号                         |
| :set nonu     | 关闭行号                         |
| :%s/old/new/g | 替换内容 /g 替换匹配到的所有内容 |

####  2、强制保存退出

##  5、模式间转换

![img](https://cdn.staticaly.com/gh/knightxv/image-hosting@master/20230118/1147480-20170723161647424-1188380370.1p30gyosozgg.webp)
